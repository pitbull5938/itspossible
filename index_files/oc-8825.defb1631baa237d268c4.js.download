!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="93062488-bf8d-45e5-9923-5fa4f844af11",e._sentryDebugIdIdentifier="sentry-dbid-93062488-bf8d-45e5-9923-5fa4f844af11")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"ocelot@c8dcc381825763128c6fe3c0cad7c2ec7b944c13"},(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[8825],{69636:(e,t,n)=>{n.d(t,{qO:()=>V,a8:()=>U,OM:()=>k,Ng:()=>F,_K:()=>Z});var r=n(4942),o=n(15861),i=n(43144),a=n(15671),s=n(82963),u=n(61120),l=n(60136),c=n(72407),d=n(64687),f=n.n(d),g=(n(83464),n(95566),n(19496),n(58109),n(68438),n(68619)),v=n(68699),h=n(51591),p=n(81572),m=n(43386),S=n(21188),y=(n(9867),n(7231),n(71733)),w=n(41718);var b=function(e){var t="";for(var n in e)t+="&boost-".concat(n,"=").concat(e[n]);return t};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p.D4,n="?q=".concat(encodeURIComponent(e.searchTerm)),r=e.pageSize?"&pageSize=".concat(e.pageSize):"",o=e.pageNum?"&page=".concat(e.pageNum):"",i=e.sortOrder?"&sortOrder=".concat(e.sortOrder):"",a=e.section?"&section=".concat(e.section):"",s=e.media?"&media=".concat(e.media):"",u=e.boosts?b(e.boosts):"",l="".concat(n).concat(r).concat(i).concat(a).concat(s).concat(u);return{url:"".concat(t).concat(l).concat(o,"&fields=feed"),params:l}}var O=function(e){try{var t,n;if(null!==(t=window.CBC)&&void 0!==t&&null!==(t=t.APP)&&void 0!==t&&null!==(t=t.ANA)&&void 0!==t&&null!==(t=t.ABTESTSCONFIG)&&void 0!==t&&t.tests)return null===(n=window.CBC.APP.ANA.ABTESTSCONFIG.tests[e])||void 0===n?void 0:n.id}catch(r){w.default.warn("getABTestID",r)}};function C(e,t,n){return t=(0,u.Z)(t),(0,s.Z)(e,A()?Reflect.construct(t,n||[],(0,u.Z)(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var T=function(e){function t(e,n,r){var o;return(0,a.Z)(this,t),(o=C(this,t,[e])).name="DecisionError",n&&(o.response=n),r&&(o.catch_message=r),o}return(0,l.Z)(t,e),(0,i.Z)(t)}((0,c.Z)(Error)),B=function(){function e(t,n,r){(0,a.Z)(this,e),t||r(new T("Invalid argument for agent")),this.agent=t,this.resolve=n,this.reject=r,this.timeoutID=0,this.onResult=this.onResult.bind(this),this.onTimeout=this.onTimeout.bind(this)}return(0,i.Z)(e,[{key:"onResult",value:function(e){clearTimeout(this.timeoutID);try{var t=e.data.sels[this.agent];return""===t?(w.default.info("Conductrics: No selection made - ",e.data),this.resolve(t)):t?this.resolve(t):this.reject(new T("CBC.APP.AB.Testing.getDecision selection is undefined for agent: "+this.agent,e))}catch(n){this.reject(new T("The response for CBC.APP.AB.Testing.getDecision caused an error",e,n.message))}}},{key:"onTimeout",value:function(){this.reject(new T("Conductrics Timeout"))}},{key:"request",value:function(){try{"undefined"===typeof window.CBC.APP.AB.conductrics_api&&this.reject(new T("CBC.APP.AB.conductrics_api is undefined")),window.CBC.APP.AB.Testing.getDecision(this.agent,!1,!1,this.onResult),this.timeoutID=setTimeout(this.onTimeout,e.TIMEOUT)}catch(t){this.reject(new T("CBC.APP.AB.Testing.getDecision caused an error",null,t.message))}}}],[{key:"TIMEOUT",get:function(){return 3e3}}]),e}();function x(e){return new Promise((function(t,n){new B(e,t,n).request()}))}var D=n(71836);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t=(0,u.Z)(t),(0,s.Z)(e,I()?Reflect.construct(t,n||[],(0,u.Z)(e).constructor):t.apply(e,n))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var E=function(e){function t(){return(0,a.Z)(this,t),N(this,t,arguments)}return(0,l.Z)(t,e),(0,i.Z)(t)}((0,c.Z)(Error));function k(e){var t=e.searchTerm,n=e.section||"all",r=e.sortOrder||D.s8,i=e.nextPage||!1,a=e.media||D.mk,s=O(p.LH);return function(){var e=(0,o.Z)(f().mark((function e(o,u){var l,c,d,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=u(),c=i?l.search.pageNum+1:1,d="all"===n?"":n,h=void 0,e.abrupt("return",q(s).then((function(e){var t,n,r;null!==(t=window.CBC)&&void 0!==t&&null!==(t=t.APP)&&void 0!==t&&null!==(t=t.ANA)&&void 0!==t&&null!==(t=t.ABTESTSCONFIG)&&void 0!==t&&t.tests&&null!==(n=window.CBC)&&void 0!==n&&null!==(n=n.APP)&&void 0!==n&&null!==(n=n.ANA)&&void 0!==n&&null!==(n=n.ABTESTSCONFIG)&&void 0!==n&&null!==(n=n.tests[p.LH])&&void 0!==n&&n.variants&&(h=null===(r=window.CBC)||void 0===r||null===(r=r.APP)||void 0===r||null===(r=r.ANA)||void 0===r||null===(r=r.ABTESTSCONFIG)||void 0===r||null===(r=r.tests[p.LH])||void 0===r?void 0:r.variants[e])})).finally((function(){var e,s=null!==(e=window.CBC)&&void 0!==e&&null!==(e=e.APP)&&void 0!==e&&null!==(e=e.ANA)&&void 0!==e&&e.SEARCHDEFAULT?window.CBC.APP.ANA.SEARCHDEFAULT:{},u=void 0!==h?h.content:s,l=j({searchTerm:t,section:d,sortOrder:r,pageNum:c,media:a,boosts:u}),f=0,y={backgroundImage:"",flag:!1,countryId:"",section:"",sportId:"",title:"",url:""};try{var b=window.sessionStorage.getItem(JSON.stringify(l.params)),O=JSON.parse(b)||null;if(!(Boolean(O)&&!i&&(new Date).getTime()-O.time<p.oF))return(0,m.request)(l.url).then((function(e){if((0,S.fQ)(e))return f=parseInt(e.headers.get("x-total-search-result-count"),10),e.json()})).then((function(e){var s=e[0];s&&s.info_card_flag&&(y={backgroundImage:s.info_card_background_image,flag:!0,section:s.info_card_section,title:s.title,url:s.url,countryId:s.info_card_country_id,sportId:s.info_card_sport_id},e.shift()),y=Object.assign(y,{captureGoals:!(!s||!s.info_card_flag)}),e.forEach((function(e){e.id.includes("keymatch_result")&&(e.publishtime=new Date)}));var u=e;i?(s.focus=!0,o((0,g.rU)({json:(0,v.Cj)(e),params:{pageNum:c}})),O&&(u=O.json.concat(e))):o((0,g.BE)({json:(0,v.Cj)(e),params:{section:n,searchTerm:t,sortOrder:r,resultCount:f,pageNum:c,infoCard:y,media:a}})),window.sessionStorage.setItem(JSON.stringify(l.params),JSON.stringify({json:u,resultCount:f,time:(new Date).getTime(),infoCard:y}))})).catch((function(e){w.default.error("fetch_search_results - getABTestVariant",e)}));o((0,g.BE)({json:(0,v.Cj)(O.json),params:{section:n,searchTerm:t,sortOrder:r,resultCount:O.resultCount,pageNum:c,media:a,infoCard:O.infoCard}}))}catch(C){w.default.error("fetch_search_results",C)}})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function F(e){var t=_(_({},e),{},{nextPage:!0});return function(e){return k(_(_({},t),e))}}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.searchTerm,o=e.section||"all",i=e.sortOrder||"relevance",a=O(p.IU);return function(e){var s="all"===o?"":o,u=void 0;q(a).then((function(e){var t,n,r;null!==(t=window.CBC)&&void 0!==t&&null!==(t=t.APP)&&void 0!==t&&null!==(t=t.ANA)&&void 0!==t&&null!==(t=t.ABTESTSCONFIG)&&void 0!==t&&t.tests&&null!==(n=window.CBC)&&void 0!==n&&null!==(n=n.APP)&&void 0!==n&&null!==(n=n.ANA)&&void 0!==n&&null!==(n=n.ABTESTSCONFIG)&&void 0!==n&&null!==(n=n.tests[p.LH])&&void 0!==n&&n.variants&&(u=null===(r=window.CBC)||void 0===r||null===(r=r.APP)||void 0===r||null===(r=r.ANA)||void 0===r||null===(r=r.ABTESTSCONFIG)||void 0===r||null===(r=r.tests[p.LH])||void 0===r?void 0:r.variants[e])})).finally((function(){var o=void 0!==u?u.content:{},a=j({searchTerm:r,section:s,sortOrder:i,media:D.Zv,boosts:o}),l=0,c=JSON.stringify(a.params+"&videoSwimlane");try{var d=window.sessionStorage.getItem(c),f=JSON.parse(d)||null;Boolean(f)&&(new Date).getTime()-f.time<p.oF?e((0,g.W0)({json:f.json.slice(0,p.sK)})):(0,m.request)(a.url).then((function(e){if("application/json;charset=UTF-8"===e.headers.get("content-type"))return l=parseInt(e.headers.get("x-total-search-result-count"),10),e.json()})).then((function(r){(function(e,t){return t<p.VP?Promise.resolve([]):(0,y.f2)(e.map((function(e){return e["cbc-mediaid"]})).filter((function(e){return void 0!==e})))})(r,l).then((function(r){var o,i,a=null!==(o=null===r||void 0===r||null===(i=r.data)||void 0===i||null===(i=i.allContentItems)||void 0===i?void 0:i.nodes)&&void 0!==o?o:[],s=(0,v.H9)(a),u=(0,h.h)(s,t,n);e((0,g.W0)({json:null===u||void 0===u?void 0:u.slice(0,p.sK)})),window.sessionStorage.setItem(c,JSON.stringify({json:u,resultCount:l,time:(new Date).getTime()}))}))})).catch((function(e){w.default.error("fetch_top_video_results - getABTestVariant",e)}))}catch(S){w.default.error("fetch_top_videos_results",S)}}))}}function q(e){return R.apply(this,arguments)}function R(){return(R=(0,o.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===t){e.next=10;break}return e.prev=1,e.next=4,x(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),w.default.error("Error in decision making process: ".concat(e.t0),e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function U(e){return function(t){if((null===e||void 0===e?void 0:e.length)>2){var n="".concat(p.ss,"?q=").concat(e);(0,m.request)(n).then((function(e){if(e.ok)return e.json();throw new E(e)})).then((function(e){var n=e.matches;t((0,g.ow)({json:(0,v.VV)(n)}))})).catch((function(e){t((0,g.ow)({json:(0,v.VV)([])})),w.default.error("fetch_autocomplete_options",e)}))}else t((0,g.ow)({json:(0,v.VV)([])}))}}function V(){return(0,g.ow)({json:[]})}},81572:(e,t,n)=>{n.d(t,{D4:()=>o,IU:()=>c,LH:()=>l,VP:()=>s,oF:()=>a,sK:()=>u,ss:()=>i});var r=n(93849),o=r.KF("Client.searchApi.baseURL"),i=r.KF("Client.searchApi.autocompleteURL"),a=6e4,s=10,u=3,l="main-search",c="video-swim-lane"},68825:(e,t,n)=>{n.d(t,{Z:()=>B});var r=n(29439),o=n(35098),i=n(92972),a=n.n(i),s=n(14507),u=n.n(s),l=n(42820),c=(n(9867),n(7231),n(86535)),d=n(56552);function f(e){var t=(0,o.useState)("all"),n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,o.useEffect)((function(){void 0!==e.selectedFilter&&null!==e.selectedFilter&&a(e.selectedFilter)}),[e.selectedFilter]),(0,d.jsxs)("div",{className:"searchFilterContainer",children:[(0,d.jsx)("label",{htmlFor:"searchFilterSelect",children:"Filter by"}),(0,d.jsx)("select",{id:"searchFilterSelect",name:"Search Filters",value:i,onChange:function(t){return function(e,t){t&&t(e);var n=e.target.value;a(n)}(t,e.clickHandler)},children:e.filters.map((function(e){return e.enabled&&(0,d.jsx)("option",{"data-filtertype":e.value,value:e.value,children:e.label},e.value)}))}),(0,c.Z)()]})}f.propTypes={filters:a().array,clickHandler:a().func},f.defaultProps={filters:[],clickHandler:function(){}};const g=f;n(83464),n(19496);var v=n(4942),h=(n(58109),n(95566),n(68438),n(69636)),p=n(3623);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=[],w=function(e){var t=e.isCompact,n=e.inputFocus,i=e.searchTerm,a=e.updateSearchTerm,s=e.handleSearchAutocompleteSelect,c=(0,o.useState)({justSelectedSuggestion:!1,highlightedSuggestionIndex:null,highlightedSuggestion:null,queryBeforeUpDown:null,shouldSuggestionsBeVisible:!1,hasSuggestions:!1,ariaStatusMessage:"",queryValue:""}),f=(0,r.Z)(c,2),g=f[0],v=f[1],m=(0,l.useSelector)((function(e){var t,n;return null!==(t=null===(n=e.search)||void 0===n?void 0:n.autocompleteResults)&&void 0!==t?t:y})),w=(0,o.useRef)(null),b=(0,o.useRef)(null),j=function(e){w.current&&w.current.value!==e&&(w.current.value=null!==e&&void 0!==e?e:"")},O=(0,l.useDispatch)(),C=function(e){O((0,h.a8)(e))},A=function(){O((0,h.qO)())};(0,o.useEffect)((function(){j(i)}),[i]),(0,o.useEffect)((function(){var e,t,n=null!==(e=null===(t=w.current)||void 0===t?void 0:t.value)&&void 0!==e?e:"",r="";n.length>2&&g.shouldSuggestionsBeVisible&&(r=m.length>0?"".concat(m.length," suggestions available. Use up and down arrows to review and enter to select"):"No suggestions available"),v((function(e){return S(S({},e),{},{hasSuggestions:m.length>0,queryValue:n,ariaStatusMessage:r})}))}),[m]),(0,o.useEffect)((function(){var e;n&&(null===(e=w.current)||void 0===e||e.focus())}),[n]);var T=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().length>0},B=function(e,t){var n=g.queryBeforeUpDown;null===e?n=null:null===n&&void 0!==t&&(n=t),v((function(t){var r;return S(S({},t),{},{highlightedSuggestionIndex:e,highlightedSuggestion:null!==(r=m[e])&&void 0!==r?r:null,queryBeforeUpDown:n})}))},x=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v((function(t){return S(S({},t),{},{highlightedSuggestionIndex:null,highlightedSuggestion:null,queryBeforeUpDown:e?null:t.queryBeforeUpDown})}))},D=function(){j(""),v((function(e){return S(S({},e),{},{queryValue:""})}))},P=function(){v((function(e){return S(S({},e),{},{shouldSuggestionsBeVisible:!1,highlightedSuggestionIndex:null,highlightedSuggestion:null,queryBeforeUpDown:null})}))},_=function(e){s(e),A(),x()},N=function(e){x(!1),g.justSelectedSuggestion&&e.target===b.current&&v((function(e){return S(S({},e),{},{justSelectedSuggestion:!1})}))},I=function(e){g.justSelectedSuggestion||(v((function(e){return S(S({},e),{},{justSelectedSuggestion:!0})})),b.current=e.target)},E=function(){v((function(e){return S(S({},e),{},{justSelectedSuggestion:!0})}))},k=function(){var e;v((function(e){return S(S({},e),{},{justSelectedSuggestion:!1})})),b.current=null,null===(e=w.current)||void 0===e||e.focus()},F=function(e){return function(){var n=m[e];n&&(a(n.value),_(n.value),P(),t&&D()),v((function(e){return S(S({},e),{},{justSelectedSuggestion:!1})}))}},Z=function(e,t){var n=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},r=n(e.value),o=n(t),i=new RegExp("\\b(".concat(o,")"),"i"),a=r.split(i).filter((function(e){return e}));return(0,d.jsx)("span",{children:a.map((function(e,t){var n=i.test(e)?"autocomplete-suggestions-item-match":null;return(0,d.jsx)("span",{className:n,children:e},"".concat(e,"-").concat(t))}))})},q=function(e,t,n,r){var o=t===g.highlightedSuggestionIndex,i=u()("autocomplete-suggestions-item",o&&"autocomplete-suggestions-item-highlighted"),a=function(e){return"autocomplete-suggestions-item-".concat(e)}(t);return(0,d.jsx)("li",S(S({id:a,role:"option","aria-posinset":t+1,"aria-setsize":r,"aria-selected":o,tabIndex:"-1",className:i,"data-suggestion-index":t},function(e){return{onMouseEnter:(t=e,function(e){B(t),e.target===b.current&&v((function(e){return S(S({},e),{},{justSelectedSuggestion:!0})}))}),onMouseLeave:N,onMouseDown:I,onTouchStart:E,onTouchMove:k,onClick:F(e)};var t}(t)),{},{children:Z(e,n)}),a)},R={onFocus:function(e){var t=e.target.value;if(!g.justSelectedSuggestion){var n=T(t);v((function(e){return S(S({},e),{},{shouldSuggestionsBeVisible:n})})),n&&C(t)}},onBlur:function(){g.justSelectedSuggestion||(P(),A())},onChange:function(e){var t=e.target.value,n=T(t);T(t)?C(t):A(),a(t),v((function(e){return S(S({},e),{},{shouldSuggestionsBeVisible:n,highlightedSuggestionIndex:null,highlightedSuggestion:null,queryBeforeUpDown:null})}))},onKeyDown:function(e){var n=e.key,r=g.hasSuggestions,o=g.highlightedSuggestionIndex,i=g.queryValue,s=g.shouldSuggestionsBeVisible,u=g.queryBeforeUpDown;switch(n){case"ArrowDown":case"ArrowUp":var l;if(s){if(m.length>0){var c,d,f=m.length-1,h=null;if("ArrowUp"===n?null===o?h=f:o>0&&(h=o-1):"ArrowDown"===n&&(null===o?h=0:o<f&&(h=o+1)),null===h)c=null!==u&&void 0!==u?u:i;else c=null===(d=m[h])||void 0===d?void 0:d.value;B(h,i),j(c),a(c),e.preventDefault()}}else T(null===(l=w.current)||void 0===l?void 0:l.value)&&(C(g.queryValue),v((function(e){return S(S({},e),{},{shouldSuggestionsBeVisible:!0})})),e.preventDefault());break;case"Enter":var p,y=null!==(p=m[o])&&void 0!==p?p:null;s&&r&&P(),t&&D(),null!==y&&(e.preventDefault(),a(y.value),_(y.value),v((function(e){return S(S({},e),{},{justSelectedSuggestion:!1})})));break;case"Escape":var b=null,O=e.target.value,N=void 0===O?"":O;s&&r?(e.preventDefault(),A(),P(),b=null!==u&&void 0!==u?u:N):(x(),b=null===u?"":u),"string"===typeof b&&a(b),j(b)}}},U=(null===g.queryBeforeUpDown?g.queryValue:g.queryBeforeUpDown).trim(),V=g.shouldSuggestionsBeVisible&&g.hasSuggestions,L=V?m:[],M=t?"gn-compact-search":"gn-search",H="".concat(M,"-autocomplete"),G=V?null:"".concat(M,"-autocomplete-assistiveHint"),K=L.length,W=u()("autocomplete-suggestions-list",V?"autocomplete-suggestions-container":"");return(0,d.jsxs)("div",{className:"search-autocomplete",children:[(0,d.jsx)("div",{id:"".concat(M,"-suggestions-status"),className:"a11y",role:"status","aria-atomic":"true","aria-live":"polite",children:g.ariaStatusMessage}),(0,d.jsx)("input",S(S({id:M,className:"searchInput","data-cy":"search-bar-input",name:"query",placeholder:"Search CBC.ca",type:"search",role:V?"combobox":null,"aria-haspopup":"listbox",autoComplete:"off",autoCorrect:"off","aria-autocomplete":"both","aria-expanded":V||null,"aria-controls":H,"aria-describedby":G,"aria-label":"Search CBC.ca"},R),{},{ref:w})),(0,d.jsx)(p.Z,{value:V,children:(0,d.jsx)("ul",{id:H,className:W,role:"listbox","aria-label":"Choose a suggestion",children:L.map((function(e,t){return q(e,t,U,K)}))})}),(0,d.jsx)(p.Z,{value:!V,children:(0,d.jsx)("span",{className:"a11y",id:G,children:"When search suggestions are available use up and down arrows to review and enter to select."})})]})};w.propTypes={isCompact:a().bool.isRequired,inputFocus:a().bool,searchTerm:a().string,updateSearchTerm:a().func.isRequired,handleSearchAutocompleteSelect:a().func.isRequired};const b=w;var j=n(17192),O=n(71836),C=n(64323),A=n(83110),T=function(e){var t=e.type,n=void 0===t?"expanded":t,i=e.qsTerm,a=e.active,s=e.addFilter,c=e.addSort,f=e.addMedia,v=e.mediaFilterValue,h=e.sortOrderValue,p=(0,l.useSelector)((function(e){var t;return null===e||void 0===e||null===(t=e.featureflags)||void 0===t?void 0:t["search.types"]})),m=(0,l.useSelector)((function(e){return e.app.baseSection})),S=(0,A.useHistory)(),y=(0,A.useLocation)(),w=(0,l.useSelector)((function(e){return e.search})),T=(null===i||void 0===i?void 0:i.trim())||"",B=(0,o.useState)(T),x=(0,r.Z)(B,2),D=x[0],P=x[1],_=(0,o.useState)(""),N=(0,r.Z)(_,2),I=N[0],E=N[1],k=(0,o.useState)(T),F=(0,r.Z)(k,2),Z=F[0],q=F[1];function R(e){var t=e.section,n=e.sortOrder,r=e.media,o=e.nextSearchTerm,i=encodeURIComponent(o||D.trim()),a="?q=".concat(i,"&section=").concat(t,"&sortOrder=").concat(n,"&media=").concat(r);""!==i&&S.push("/search".concat(a))}var U=!1;(0,o.useEffect)((function(){"expanded"===n&&((0,j.UL)(s,p,c,f,R),U=!0)}),[]),(0,o.useEffect)((function(){"expanded"!==n||U||(P(T),q(T),R({section:(0,j.GM)(s,p),sortOrder:(0,j.xR)(h),media:(0,j.m0)(v),nextSearchTerm:T}))}),[i,v,h,p]),(0,o.useEffect)((function(){I&&V(D)}),[I]);var V=function(e,t){t&&t.preventDefault();var r=y.pathname,o=w.media||O.mk,i=w.section||"all";"compact"===n&&(P(""),q(null),o=O.mk,"player"===m?(o=O.Zv,i=r.startsWith(C.Iz)?void 0:r.split("/")[2]):i=m,r.startsWith("/sports/olympics")||r.startsWith("/player/sports/olympics")?i="olympics":(r.startsWith("/sports/paralympics")||r.startsWith("/player/sports/paralympics"))&&(i="paralympics")),R({section:(0,j.GM)(i,p),sortOrder:(0,j.xR)(w.sortOrder),media:(0,j.m0)(o),nextSearchTerm:e})},L=(0,o.useCallback)((function(e){P(e),E(e)}),[]),M=function(e){e.preventDefault();var t=O.mk,n=O.s8;null!=v&&(t=v),null!=h&&(n=h),R({section:e.target.value?(0,j.GM)(e.target.value,p):(0,j.GM)(w.section,p),sortOrder:(0,j.xR)(n),media:(0,j.m0)(t)})},H=u()("searchBar",{compact:"compact"===n,active:a});return(0,d.jsxs)("div",{className:H,children:[(0,d.jsxs)("form",{className:"searchForm",onSubmit:function(e){return V(D,e)},children:[(0,d.jsx)(b,{isCompact:"compact"===n,searchTerm:Z,inputFocus:a,updateSearchTerm:P,handleSearchAutocompleteSelect:L}),(0,d.jsx)("button",{className:"searchButton","data-cy":"search-bar-button",children:"Search"})]}),"compact"!==n?(0,d.jsx)("div",{children:(0,d.jsx)(g,{filters:p,selectedFilter:w.section,clickHandler:M})}):s?(0,d.jsx)("div",{children:(0,d.jsx)(g,{filters:p,selectedFilter:s})}):void 0]})};T.propTypes={type:a().string,qsTerm:a().string,active:a().bool,addFilter:a().string,addSort:a().string,addMedia:a().oneOfType([a().string,a().bool]),mediaFilterValue:a().oneOfType([a().string,a().bool]),searchFilters:a().array,sortOrderValue:a().oneOfType([a().string,a().bool])};const B=T},17192:(e,t,n)=>{n.d(t,{UL:()=>l,GM:()=>a,m0:()=>u,xR:()=>s});n(53145),n(95566),n(62153);var r=n(71836),o=[{label:r.Q2,value:r.s8},{label:r.Og,value:r.ey}],i=[{label:"All",value:"all"},{label:"Video",value:"video"}],a=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((function(t){return t.value===e}))?e:"all"},s=function(e){return"boolean"===typeof e?e?r.s8:r.ey:o.some((function(t){return t.value===e}))?e:r.s8},u=function(e){return"boolean"===typeof e?e?r.Zv:r.mk:i.some((function(t){return t.value===e}))?e:r.mk},l=function(e,t,n,r,o){var i=a(e,t),l=s(n),c=u(r);i===e&&l===n&&c===r||o({section:i,sortOrder:l,media:c})}},86535:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(56552);const o=function(){return(0,r.jsxs)("svg",{width:"12px",height:"7px",viewBox:"0 0 12 7",role:"img",focusable:"false",children:[(0,r.jsx)("title",{children:"Stroke 5"}),(0,r.jsx)("desc",{children:"Created with Sketch."}),(0,r.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("g",{id:"RelevanceDesktop",transform:"translate(-969.000000, -384.000000)",stroke:"#0550C8",strokeWidth:"1.95349219",children:(0,r.jsx)("polyline",{id:"Stroke-5",transform:"translate(974.626651, 387.117645) rotate(-360.000000) translate(-974.626651, -387.117645) ",points:"979.253302 385 974.626807 389.235291 970 385"})})})]})}},71836:(e,t,n)=>{n.d(t,{I9:()=>g,K6:()=>h,KR:()=>v,Og:()=>u,Q2:()=>l,Zv:()=>o,ey:()=>s,md:()=>i,mk:()=>r,nY:()=>d,s8:()=>a,w$:()=>f,wC:()=>c});var r="all",o="video",i=["all","sports","olympics"],a="relevance",s="date",u="Most recent",l="Relevance",c=".card",d=".video-card-container",f=".searchInfoCard",g="api-loaded-article",v="api-video-swimlane",h="api-serp-info-card"}}]);
//# sourceMappingURL=../../sourcemaps/oc-8825.defb1631baa237d268c4.js.map