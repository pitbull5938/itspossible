(()=>{var t={21:function(t,e,n){var o;t.exports=(o=o||function(t,e){var o;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!=typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==n.g&&n.g.crypto&&(o=n.g.crypto),!o)try{o=n(477)}catch(t){}var i=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,n=t.words,o=this.sigBytes,i=t.sigBytes;if(this.clamp(),o%4)for(var r=0;r<i;r++){var a=n[r>>>2]>>>24-r%4*8&255;e[o+r>>>2]|=a<<24-(o+r)%4*8}else for(var s=0;s<i;s+=4)e[o+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new l.init(e,t)}}),u=a.enc={},f=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;o.push((r>>>4).toString(16)),o.push((15&r).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o+=2)n[o>>>3]|=parseInt(t.substr(o,2),16)<<24-o%8*4;return new l.init(n,e/2)}},d=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(r))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>2]|=(255&t.charCodeAt(o))<<24-o%4*8;return new l.init(n,e)}},g=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},m=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=g.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,o=this._data,i=o.words,r=o.sigBytes,a=this.blockSize,s=r/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,r);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);n=i.splice(0,c),o.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(s.Hasher=m.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math),o)},9:function(t,e,n){var o;t.exports=(o=n(21),function(t){var e=o,n=e.lib,i=n.WordArray,r=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),o=2;o<=n;o++)if(!(e%o))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var o=2,i=0;i<64;)e(o)&&(i<8&&(s[i]=n(t.pow(o,.5))),c[i]=n(t.pow(o,1/3)),i++),o++}();var l=[],u=a.SHA256=r.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],i=n[1],r=n[2],a=n[3],s=n[4],u=n[5],f=n[6],d=n[7],g=0;g<64;g++){if(g<16)l[g]=0|t[e+g];else{var m=l[g-15],p=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,h=l[g-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;l[g]=p+l[g-7]+v+l[g-16]}var w=o&i^o&r^i&r,y=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&f)+c[g]+l[g];d=f,f=u,u=s,s=a+b|0,a=r,r=i,i=o,o=b+(y+w)|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(o/4294967296),n[15+(i+64>>>9<<4)]=o,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(u),e.HmacSHA256=r._createHmacHelper(u)}(Math),o.SHA256)},477:()=>{}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t={credentials:"include",headers:{...function(){const t=window.localStorage.getItem("vfAccess");return t?{Authorization:`Bearer ${t}`}:{}}()}};async function e(e,n){try{const o=Object.assign({},t,n),i=await fetch(e,o);return await i.json()}catch(t){throw new Error(`Unable to fetch a response from ${e} the server responded with the following error: ${t.message}`)}}const o=t=>document.querySelector(`meta[name='${t}']`)||document.querySelector(`meta[property='${t}']`);function i(t){let e="";for(const n of t){const t=o(n);if(t){e=t.getAttribute("content")||e;break}}return e}const r=["vf:domain","vf:description","og:domain","domain"],a=["vf:section"],s=["vf:image","og:image","og:image:secure_url","og:image:url","twitter:image"],c=["vf:url","og:url"],l=["vf:title","og:title","twitter:title"],u=["vf:type","og:type"],f=["vf:description","og:description","twitter:description","description"],d=["keywords"],g=["vf:topic"],m=["article:tag"],p=["vf:container_id"],h=["beta-admin.viafoura.com","insights.viafoura.co","insights-canary.viafoura.co"],v=void 0,w="vf.consent.flag",y=Object.freeze({BLOCK_ALL:-2,ALLOW_FUNCTIONAL:-1,ALLOW_CUSTOMIZATION:1,ALLOW_ALL:2,NO_SIMPLE_CONSENT_SET:NaN});function b(){let t;const e=new URL(window.location.href);return h.includes(e.host)||(t=i(r)),t=t||v||e.hostname,t}const _=b(),I=`https://i.viafoura.co/v3/${_}/ingest`,S=function(){const t=window.location.host.match(/(kube\.)?vf-((test|dev)[2-5])\.click$/)||[];return 4==t.length?{isLowerEnv:"string"==typeof t[2],isKube:"string"==typeof t[1],env:t[2]}:{isLowerEnv:!1}}(),x=`${S.isLowerEnv?`https://api.vf-${S.env}.org/`:"https://api.viafoura.co/"}v2/${_}/bootstrap/v2`;function A(t){let e=window.localStorage.getItem(C);if(e)return e;if(t){const n=t.settings;e=n&&n.site_uuid}else e=localStorage.getItem(C);return e||null}const C="vf.analytics.section";let k;async function L(){return k=await async function(){let t,n;const o=i(a),r={section:o,section_tree:o};try{n=await e(x,{method:"post",body:JSON.stringify(r)}),t=n.result}catch(t){console.error(t)}return t}(),k&&(function(t){const e=A(t);e&&localStorage.setItem(C,e)}(k),k={...k,dataTime:Date.now()},localStorage.setItem("_vf_bootstrap",JSON.stringify(k))),k}const $="110px",E="20px";function P(t){const e=document.createElement("div");return e.setAttribute("class","vf-skeleton-generic-block"),e.setAttribute("data-testid","generic-block"),e.setAttribute("style",`height: ${t||"100%"}`),e}function D(){const t=document.createElement("div");t.setAttribute("class","vf-skeleton-comments-container"),t.setAttribute("data-testid","comments-container");const e=document.createElement("div");e.setAttribute("class","vf-skeleton-comments-img-wrapper"),e.setAttribute("data-testid","image-wrapper"),e.appendChild(P("46px"));const n=document.createElement("div");n.setAttribute("class","vf-skeleton-comments-line-wrapper"),n.setAttribute("data-testid","comments-line-wrapper");const o=P("20px");return n.append(o,o.cloneNode(!0),o.cloneNode(!0),o.cloneNode(!0)),t.append(e,n),t}function O(t,e){const n=document.createElement("div");return n.setAttribute("id","vf-skeleton-container"),n.setAttribute("style",`height: ${t}px`),n.setAttribute("data-testid","skeleton-container"),n.style.height=`${t}px`,0===t&&(n.style.margin="0px"),"conversations"===e?n.appendChild(function(t){const e=document.createElement("div");e.setAttribute("class","vf-skeleton-conversations-container"),e.setAttribute("data-testid","conversations-container");const n=Math.floor((t-138)/140);e.appendChild(function(){const t=document.createElement("div");return t.append(P($),P(E)),t}());for(let t=0;t<n;t++)e.appendChild(D());return e}(t)):n.appendChild(P()),n}const T=async function(t){let n,o={},i=localStorage.getItem(C);i||(i="00000000-0000-4000-8000-000000000000");try{n=await e(`https://livecomments.viafoura.co/v4/livecomments/${i}/contentcontainer/id?container_id=${t}`,{method:"GET"}),o=n.settings}catch(t){console.error(t)}return o},N=t=>t.attributes.getNamedItem("vf-container-id")?.value||i(p);function U(t,e){const{elements:n,options:o}=t;n.forEach((t=>{let n=o.height();const i=t.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight)),t.appendChild(O(n,o.skeletonTemplate)),e.observe(t)}))}function j(t){const e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t,e.appendChild(n)}let H="",B="";S.isLowerEnv?(H=`https://${S.isKube?"kube.":""}vf-${S.env}.click/`,B="eng2/options"):(H=window.vfConfig?.cdn_root||"https://cdn.viafoura.net/",B="vf-v2");const R=`${H}${B}.js`,V=new class{scriptAdded;constructor(){this.scriptAdded=!1}V2(t){if(!this.scriptAdded)try{!function(t){const e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("src",t),n.setAttribute("async","true"),e.appendChild(n)}(t),this.scriptAdded=!0}catch(t){console.log(t)}}},z=()=>V.V2(R),F={"vf-conversations":{selector:"vf-conversations",height:()=>428,isDynamicHeight:!1,skeletonTemplate:"conversations",loadFn:()=>{z()},renderer:async function(t,e){const{elements:n,options:o}=t,{user:i,settings:r}=k||{},a="guest"===i?.user_privilege||"user"===i?.user_privilege;for(const t of Object.values(n)){let n=o.height();const i=t.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight));const s=parseInt(t.getAttribute("initial-height")||"0");if(s&&r?.enable_comments_trending_articles&&r?.ad_integration&&(n=(n>s?n:s)+300),a){const e=N(t),o=await T(e);o?.is_hidden&&(n=0)}t.appendChild(O(n,o.skeletonTemplate)),e.observe(t)}}},"vf-conversations-count":{selector:"vf-conversations-count",height:()=>0,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-tray-trigger":{selector:"vf-tray-trigger",height:()=>20,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){const{elements:n,notificationCount:o}=t,i=[];let r=!1;n.forEach((t=>{const n=((t,e)=>{const n=document.createElement("button");!function(t,e){for(const n in e)t.setAttribute(n,e[n])}(n,{type:"button","aria-label":"View your notifications and profile settings","data-vf-id":"-1",class:"fake-bell vf-button vf-no-outline is-size-large vf-tray-trigger vf-frontwise-tray-trigger "+(t?"floating vf-tray-trigger--floating vf-frontwise-tray-trigger--floating":""),...t&&{"data-testid":"floating-bell"}});const o=`\n        <strong\n        aria-label="You have ${e} new notifications"\n        data-testid="notification-bubble"\n        class="vf-label count-badge count-badge--small count-badge--danger-color vf-frontwise-tray-count vf-tray-count ${t?"vf-frontwise-tray-count--floating vf-tray-count--floating":""}"\n    >\n            <span data-testid="notification-bubble-text" aria-hidden="true" class="count-badge__inner count-badge--small__inner">\n                ${e>9?"9+":e}\n            </span>\n        </strong>\n    `;return n.innerHTML+=`\n        ${e>0?o:""}\n        <svg  viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="vf-icon-medium vf-icon vf-frontwise-icon-medium vf-frontwise-icon vf-icon_bell_icon">\n            \x3c!----\x3e\n            \x3c!----\x3e\n            <defs></defs>\n            <g>\n                <path\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                    d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"\n                ></path>\n            </g>\n        </svg>\n    `,n})(t.hasAttribute("floating"),o);i.push(n),t.appendChild(n),e.observe(t),n.addEventListener("click",(()=>{r=!0}))})),j("\n    @font-face {\n        font-weight: 100 900;\n        font-family: 'Inter';\n        font-style: normal;\n        font-display: swap;\n        src: url('https://cdn.viafoura.net/front/assets/fonts/inter/inter-latin.woff2') format('woff2');\n    }\n    .viafoura {\n        font-size: 87.5%;\n        line-height: 1.3;\n    }\n    .viafoura .vf-frontwise-tray-trigger {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        padding: 0;\n        overflow: visible;\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n        border: none;\n        word-break: keep-all;\n        cursor: pointer;\n        -webkit-appearance: button;\n        text-transform: inherit;\n        background: none;\n        box-shadow: none;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        vertical-align: baseline;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger.vf-button {\n        padding: 0;\n        border-radius: 50%;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger:focus,\n    .viafoura .vf-frontwise-tray-trigger:hover,\n    .viafoura .vf-frontwise-tray-trigger:active {\n        color: #0074e8;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating {\n        background-color: rgba(0,0,0,0.75);\n        color: #fff;\n        position: fixed;\n        right: 30px;\n        bottom: 30px;\n        z-index: 10000004;\n        margin: 1em;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:focus,\n    .viafoura .vf-frontwise-tray-trigger--floating:hover {\n        background-color: #0074e8;\n        color: #fff;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:active {\n        background-color: #004e9c;\n    }\n\n\n    .viafoura .vf-frontwise-tray-count {\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        font-family: 'Inter', sans-serif;\n        font-weight: 400;\n        box-sizing: border-box;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 0.715em;\n        line-height: 1;\n        min-width: 1.24em;\n        min-height: 1.24em;\n        padding: 0.12em;\n        border-radius: 0.62em;\n        color: white;\n        background-color: #cc4949;\n    }\n\n    .viafoura .vf-frontwise-tray-count--floating {\n        top: 0;\n        right: 0;\n        left: auto;\n        transform: translateX(25%);\n        max-width: 1.8em;\n        max-height: 1.8em;\n        line-height: 0;\n        min-width: 1.8em;\n        min-height: 1.8em;\n        padding: 0.4em;\n        border-radius: 0.9em;\n    }\n    .viafoura .vf-frontwise-icon.vf-frontwise-icon-medium {\n        width: 18px;\n        height: 18px;\n        font-size: 9px;\n        line-height: 18px;\n    }\n    #fake-bell svg:not(:root) {\n        overflow: hidden;\n    }\n    .viafoura .vf-frontwise-icon {\n        display: inline-block;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n    }\n"),window.vfQ.push((function(){window.vf.$subscribe("vf-tray-trigger","loaded",(function(){i.forEach((t=>t.remove())),r&&(window.vf.$publish("tray","open"),r=!1)}))}))}},"vf-tray":{selector:"vf-tray",height:()=>0,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-content-recirculation":{selector:"vf-content-recirculation",height:()=>{const t=k?.settings.trending_conversations_ad_integration,e=t&&"none"!==t,n=window.innerWidth<700;return e&&n?600:300},isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-livechat":{selector:"vf-livechat",height:()=>160,isDynamicHeight:!1,allowedStyleProps:["height"],loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-live-blog":{selector:"vf-live-blog",height:()=>250,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-livestory":{selector:"vf-livestory",height:()=>250,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-topic-follow":{selector:"vf-topic-follow",height:()=>0,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},sharetotal:{selector:'[data-widget="sharetotal"]',height:()=>20,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},sharebar:{selector:'[data-widget="sharebar"]',height:()=>40,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-trending-articles":{selector:"vf-trending-articles",height:()=>144,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-conversation-starter":{selector:"vf-conversation-starter",height:()=>{const t=k?.settings.conversation_starter_ad_integration,e=t&&"none"!==t,n=window.innerWidth<621;return e&&n?565:270},isDynamicHeight:!0,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}},"vf-standalone-ad":{selector:"vf-standalone-ad",height:()=>300,isDynamicHeight:!1,loadFn:()=>{z()},renderer:function(t,e){U(t,e)}}};async function q(){let t,n=0,o=localStorage.getItem(C);o||(o="00000000-0000-4000-8000-000000000000");try{if(t=await e(`https://notifications.viafoura.co/v5/notifications/${o}/all`,{method:"GET"}),!t)return n;let i=t.broadcasts;const r=M();i=r?i.filter((t=>(t.time||0)>+r)):i.filter((t=>"new"===t.status));n=(i.length>0?i.length:0)+(t.notifications.length>0?t.notifications.map((t=>t.notifications)).flat().reduce(((t,e)=>("new"===e.status&&t++,t)),0):0)}catch(t){console.error(t)}return n}const M=()=>{try{if(k){const{user:t}=k;let{uuid:e}=t;return e||(e="00000000-0000-4000-8000-000000000000"),window.localStorage.getItem(`_vf_notification_queue_last_seen_${String(e)}`)}}catch(t){return}},W=[];const J=async t=>{const e=((t=!1)=>{const e=Object.entries(F).map((([t,e])=>({name:t,elements:document.querySelectorAll(F[t].selector),options:e})));return t?e.filter((t=>t.elements.length>0)):e})(!0);!function(t){t.forEach((t=>{const{elements:e,options:n}=t;e.forEach((t=>{const e=t.closest(".viafoura"),o=t.hasAttribute("floating");let i="";e&&!o&&(n.allowedStyleProps?.forEach((t=>{i+=function(t,e){let n="";return Array.from(t.style).includes(e)&&(n+=`${e}: ${t.style.getPropertyValue(e)}; `),n}(e,t)})),parseInt(e.style.minHeight)?i+=`min-height: ${e.style.minHeight}`:i+=`min-height: ${n.height()}px;`,e.setAttribute("style",i),n.isDynamicHeight&&ResizeObserver)&&new ResizeObserver((()=>{e.style.minHeight=`${n.height()}px`})).observe(e)}))}))}(e);for await(const n of e){W.push(n.name);try{const e={elements:n.elements,options:n.options,name:n.name,..."vf-tray-trigger"===n.name&&{notificationCount:await q()}};n.options.renderer(e,t)}catch(t){throw console.error({message:`Could not load ${n.name}`,originalError:t}),t}}};var K,Q=new Uint8Array(16);function G(){if(!K&&!(K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(Q)}const X=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Y=[],Z=0;Z<256;++Z)Y.push((Z+256).toString(16).substr(1));const tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Y[t[e+0]]+Y[t[e+1]]+Y[t[e+2]]+Y[t[e+3]]+"-"+Y[t[e+4]]+Y[t[e+5]]+"-"+Y[t[e+6]]+Y[t[e+7]]+"-"+Y[t[e+8]]+Y[t[e+9]]+"-"+Y[t[e+10]]+Y[t[e+11]]+Y[t[e+12]]+Y[t[e+13]]+Y[t[e+14]]+Y[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&X.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},et=function(t,e,n){var o=(t=t||{}).random||(t.rng||G)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return tt(o)};function nt(...t){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...t),console.groupEnd())}function ot(t){return String.prototype.trim.call(t)}function it(t){const e=typeof t;return null!==t&&("object"===e||"function"===e)}function rt(t){if(!it(t))return!1;for(const e in t)if(Object.hasOwn(t,e))return!0;return!1}const at={get:function(t,e=!1){if(!window||!window.localStorage)return null;const n=window.localStorage.getItem(t);if(!n)return null;if(!e)return n;try{return JSON.parse(n)}catch(e){return nt(`failed to get json from LS ${t} key due to `,e),null}},set:function(t,e){if(!window||!window.localStorage)return null;if(!e||it(e)&&!rt(e))return null;if(rt(e)||Array.isArray(e))try{const n=JSON.stringify(e);return window.localStorage?.setItem(t,n),n}catch(e){return nt(`failed to set json to LS ${t} key due to `,e),null}return window.localStorage?.setItem(t,e),e},clear:function(t,e=window){return window&&window.localStorage?(e.localStorage?.removeItem(t),!0):null}},st=at,ct="_vf_rd_test_",lt="vf_root_domain";function ut(t,e=!1){t.maxAge=-1,t.value="",e?pt(t,!1,!0):pt(t)}function ft(t,e=document){const n=e.cookie.split("; "),o=[];for(let e=0;e<n.length;e++)n[e].substring(0,t.length)===t&&o.push(n[e]);return o}function dt(t){st.set(lt,t)||nt("failed to set root domain",t)}const gt={y:31536e3,d:86400,h:3600,m:60,s:1},mt=t=>{if("string"==typeof t){const e=parseInt(t.slice(0,-1),10),n=t.slice(-1);return e*gt[n]||0}return"number"==typeof t?t:0};function pt(t,e=!1,n=!1){return t.maxAge=mt(t.maxAge||0),e&&(t.sameSite=t.sameSite||"Lax",t.isSecure=!1!==t.isSecure,n||(t.domain=function(t,e,n=!1){const o=function(){const t=st.get(lt);return t&&t.length>3?t:null}();if(o)return o;const i=window.location.hostname,r=i.split("."),a=(new Date).getTime();let s=r.length>1?r.length-1:0;const c={name:`${ct}${a}`,value:`_test_${a}`,maxAge:0,sameSite:t,isSecure:e,domain:i};for(;s>=1;){if(c.domain=r.slice(s,r.length).join("."),pt(c,!1,!0)===c.value||n){ut(c,!0);const t=ft(ct);for(let e=0;e<t.length;e++){const n=c;n.name=t[e],ut(n,!0)}return dt(c.domain),c.domain}s-=1}return dt(i),i}(t.sameSite,t.isSecure))),document.cookie=function(t){let e=`${t.name}=${t.value};path=/`;const n=t.isSecure?"; Secure":"",o=t.sameSite?`;SameSite=${t.sameSite}`:"",i=t.domain?`;domain=${t.domain}`:"";if(t.maxAge&&"number"==typeof t.maxAge){const n=new Date;n.setTime(n.getTime()+1e3*t.maxAge),e+=`;max-age=${t.maxAge};expires=${n.toUTCString()}`}return e+=`${i}${o}${n}`,e}(t),decodeURIComponent((`; ${document.cookie}`.split(`; ${t.name}=`)[1]||"").split(";")[0])}const ht=(t,e)=>{return"ref"!==t?(n=e,decodeURI(n)):e.split("|").map((t=>t.trim())).reduce(((t,e)=>{const n=e.split("=").map((t=>t.trim()));return t[n[0]]=n[1]?decodeURI(n[1]):"",t}),{});var n};function vt(t,e){const n=function(t,e=document.cookie){const n=`${t}=`,o=e.split(";").map(ot).find((t=>0===t.indexOf(n)));return o?o.substring(n.length,o.length):null}(e);if(!n)return{};const o=n.split(".");return t.reduce(((t,e,n)=>(o[n]&&(t[e]=ht(e,o[n])),t)),{})}const wt=t=>encodeURIComponent(t).replace(/\./g,"%2E"),yt=t=>Object.entries(t).map((([t,e])=>`${t}=${wt(e)}`));function bt(t,e,n){const o=function(t,e){return t.reduce(((t,n)=>{const o=e[n]||"";if("ref"===n){const e=yt(o).join("|");return t.concat(e)}return t.concat(wt(o))}),[]).join(".")}(n,e),{cname:i,maxAge:r}=t;"1"===localStorage.getItem(xe)&&pt({name:i,value:o,maxAge:r},!0)}const _t=()=>{const t=window.location.hash,e=/^#vf-(\d+)/.exec(t);if(e&&e.length>1){const t=parseInt(e[1],10);if("number"==typeof t)return t}return!1};function It(){const t=new URL(window.location.href).searchParams.get("__vfz"),e={};if(t){const n=t.split("|");for(let t=0;t<n.length;t++){const o=decodeURIComponent(n[t]).split("=");e[o[0]]=o[1]}}const n=_t();return n&&(e.comment_share=n),e}const St=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i");function xt(t){return t&&(e=t.sharer_uuid,St.test(e))?t.sharer_uuid:"";var e}function At(t,e){if(Array.isArray(t))return!(!Array.isArray(e)||t.length!==e.length)&&t.every(((t,n)=>At(t,e[n])),!0);if(it(t)){if(!it(e)||Array.isArray(e))return!1;const n=Object.keys(t).sort();return At(n,Object.keys(e).sort())&&n.every((n=>At(t[n],e[n])))}return t===e}function Ct(t,e,n){const{newVisit:o,ts:i}=e,r=function(t){const e=It(),n=xt(e);return e&&e.medium?{medium:e.medium||"",source:e.source||"",sharer_uuid:n,terms:""}:document.referrer&&!document.referrer.includes(t.domain)?{medium:"referral",source:document.referrer,sharer_uuid:n,terms:""}:{medium:"direct",source:"",sharer_uuid:n,terms:""}}(t),a={...t,referrerStart:i,refVisitCount:1,ref:r},s=[...n,"referrerStart","refVisitCount","ref"];let c=vt(s,"_vfz");const l=It(),u=c.ref&&l.medium!==c.ref.medium,f=c.ref&&xt(l)!==xt(c.ref),d=c.ref&&document.referrer&&!document.referrer.includes(c.domain);return c.referrerStart?o?"referral"!==r.medium||At(r,c.ref)?c.refVisitCount++:c=a:(u||f||d)&&(c.ref=r):c=a,bt({cname:"_vfz",maxAge:"6m"},c,s),{options:e,data:c}}const kt=Math.round(Date.now()/1e3);function Lt(t){const e={ts:kt},n={domain:t.domain,siteUuid:t.site},o=["domain","siteUuid"],i=function(t,e,n){const{ts:o}=e,i={...t,pageViews:1,outgoing:10,sessionStart:o,isRecirculation:!1},r=[...n,"pageViews","outgoing","sessionStart","isRecirculation","landingPage","page_description","page_title"];let a=vt(r,"_vfb"),s=e;return a.sessionStart?a.pageViews++:(a=i,s={...e,newVisit:!0}),document.referrer&&document.referrer.includes(a.domain)&&(a.isRecirculation=!0),bt({cname:"_vfb",maxAge:"30m"},a,r),{options:s,data:a}}(n,e,o),r=function(t,e,n){const{newVisit:o,ts:i}=e,r={...t,uniqueId:et(),firstVisit:i,previousVisit:i,currentVisit:i,visitCount:1},a=[...n,"uniqueId","firstVisit","previousVisit","currentVisit","visitCount"];let s=vt(a,"_vfa");return a.some((t=>!s[t]))?s=r:o&&(s.previousVisit=s.currentVisit,s.currentVisit=i,s.visitCount++),bt({cname:"_vfa",maxAge:"1y"},s,a),{options:e,data:s}}(n,{...e,...i.options},o),a=Ct(n,{...e,...r.options},o);return{...i.data,...r.data,...a.data}}function $t(t){const e=[],n=t.reduce(((t,e)=>t+`meta[name='${e}'], meta[property='${e}']`),""),o=document.querySelectorAll(n);return o.length>0&&o.forEach((t=>{const n=t.getAttribute("content");n&&e.push(n)})),e}const Et=["__vfz","__vfsubscribed"],Pt=t=>t.substring(0,500),Dt=t=>t.replace(/\s+/g," ").trim(),Ot=()=>((t,e=[])=>{const n=new URL(t);return e.forEach((t=>{n.searchParams.delete(t)})),n})(i(c)||window.location.href,Et).href,Tt=()=>{const t=Ot(),e=new URL(t);return`${e.pathname}${e.search}`},Nt=()=>{const t=document.querySelector("title");return t&&t.innerText||""},Ut=()=>{const t=i(d);let e=[];return t&&(e=[...t.split(",").map((t=>t.trim()))]),[...$t(g),...$t(m),...e]};function jt(t){if(new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i").test(t))return t;if(!Number.isInteger(t)||t<0||t>0xfffffffffffff)throw new TypeError(`invalid argument: ${t}`);const e=t.toString(16),n=Array(14-e.length).join("0")+e;return`00000000-0000-4000-800${n[0]}-${n.substring(1)}`}const Ht=/article|story|news|post/i,Bt=/section|website|landing|(product\.group)|object/i,Rt=/video|movie/i,Vt=/profile/i,zt=/product|books/i,Ft="article",qt="section",Mt=(t="unknown",e=window.location.pathname)=>{if(t){if(Rt.test(t))return"video";if(Vt.test(t))return"profile";const n=Ht.test(t)||e&&e.includes(Ft)||Boolean(i([`${Ft}:id`,`${Ft}:published_time`,`${Ft}:tag`]))||Array.from(document.querySelectorAll('script[type="application/ld+json"]')).filter((t=>t&&t instanceof HTMLElement&&t.innerText&&null!==t.innerText.match(/article"/gi))).length>0;if(n)return Ft;if(Bt.test(t))return qt;if(zt.test(t))return"product"}else if("/"===e||e.length<30)return qt;return t};function Wt(t){const e=new URL(window.location.href),n=It(),o=t&&t.user,r={domain:b(),image_url:Dt(i(s)),url:Ot(),path:Tt(),title:Pt(Dt(i(l)||Nt())),page_type:i(u),description:Pt(Dt(i(f))),topics:Ut(),container:i(p),section:Pt(Dt(i(a)))},c=t&&t.sectionTree,d=localStorage.getItem(C)||void 0,g=c&&c.section_id;return{domain:r.domain,site:d,section:g?jt(g):d,pageImage:r.image_url,ref:n,vf:Object.keys(n).length>0,url:r.url,path:r.path,title:r.title,user:o&&o.id?jt(o.id):void 0,privilege:o&&o.user_privilege?o.user_privilege:void 0,page_type:Mt(r.page_type),page_description:r.description,topics:r.topics,amp:Boolean(e.searchParams.get("isAmpPage")),thirdparty_enabled:"true"===window.sessionStorage.getItem("vfThirdpartyCookiesEnabled"),container_id:r.container}}function Jt(...t){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...t),console.groupEnd())}var Kt;!function(t){t[t["didomi/javascript"]=0]="didomi/javascript",t[t["javascript/blocked"]=1]="javascript/blocked"}(Kt||(Kt={}));const Qt=Object.values(Kt).filter((t=>isNaN(Number(t)))),Gt="vf.analytics.tcdata",Xt=1138,Yt=[1138,95,561,148];let Zt;function te(){return"function"==typeof window.__tcfapi}function ee(){if(!te())return!1;try{const t=window.localStorage.getItem(Gt);if(t)return JSON.parse(t)}catch(t){}return!1}function ne(t){return!1===t.gdprApplies||!!(t.vc&&!0===t.vc[Xt]||t.vli&&!0===t.vli[Xt])||(!t.vc||!t.vli||!1!==t.vc[Xt]||!1!==t.vli[Xt])&&null}let oe=!1;const ie="Error in getBlueConicProfileId: ";function re(t,e=window){if(!(t instanceof Function))return!1;if(!e.blueConicClient||void 0===e.blueConicClient.event||void 0===e.blueConicClient.event.subscribe){if(!oe)try{e.addEventListener("onBlueConicLoaded",re.bind(this,t,e)),oe=!0}catch(t){nt(ie,t)}return!0}const n=e.blueConicClient.profile.getProfile();if(n.permission.getLevel()===e.blueConicClient.permission.level.DO_NOT_TRACK){try{e.blueConicClient.event.subscribe(e.blueConicClient.event.onProfilePermissionChange,this,re.bind(this,t,e))}catch(t){nt(ie,t)}return!0}if(!n.getId()){try{e.blueConicClient.event.subscribe(e.blueConicClient.event.onReady,this,re.bind(this,t,e))}catch(t){nt(ie,t)}return!0}return t(n.getId()),!0}var ae=n(9),se=n.n(ae);const ce={PPID:"",hashedPPID:"",siteUUID:"",actorUuid:"",uniqueId:"",lsKey:"vf.analytics.ppid"},le="00000000-0000-4000-8000-000000000000";const ue={cache:{},script:{parent:"body",attr:"src",el:{async:!0,defer:!0}},options:{}};function fe(t,e){const n=`vf_${i=[t,e],o=i.map(String),o.reduce(((t,e)=>{return 31*t+(n=e,Math.abs(n.split("").reduce(((t,e)=>0|31*t-t+e.charCodeAt(0)),0)));var n}),1)}`;var o,i;return ue.cache[n]=ue.cache[n]||new Promise(((o,i)=>{const r=ue[t],a=document.createElement(t);a.onload=()=>o(a),a.onerror=()=>i(a),Object.assign(a,r.el,{id:n,[r.attr]:e}),document[r.parent]&&document[r.parent].appendChild(a)})).catch((e=>{nt("failed to load tag: ",t,e)})),ue.cache[n]}const de=t=>fe("script",t),ge=["00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-d47205fca416","00000000-0000-4000-8000-000000000bc9","00000000-0000-4000-8000-000000000bd2","00000000-0000-4000-8000-334f214f4651","00000000-0000-4000-8000-000000000bc6","00000000-0000-4000-8000-000000000bd0","00000000-0000-4000-8000-000000000003","00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-bc3db436e814"],me=["00000000-0000-4000-8000-f1dffa5f5595","00000000-0000-4000-8000-5284a9443a76"],pe=["00000000-0000-4000-8000-5c04b6406bf5","00000000-0000-4000-8000-7b38cb75125c","00000000-0000-4000-8000-57a6fb5ed05f","00000000-0000-4000-8000-e45065cfa5e2","00000000-0000-4000-8000-f41528791ab0","00000000-0000-4000-8000-698956718ae8","00000000-0000-4000-8000-052737eae856","00000000-0000-4000-8000-9c47d751ab86","00000000-0000-4000-8000-b78d5ee678cc","00000000-0000-4000-8000-177225eb8e77","00000000-0000-4000-8000-f9a45be2b954"],he={siteUUID:"",hashedPPID:"",loadLotame:!1,lotameLoaded:!1,loadLiveIntent:!1,liveIntentLoaded:!1},ve="vf.analytics.bc.id",we="vf.analytics.lm.id",ye="vf.analytics.lm.ts",be="vf.analytics.li",_e="17229";function Ie(t){he.siteUUID=A(t),he.hashedPPID=function(t){return(!ce.hashedPPID||ce.hashedPPID.length<2)&&(function(t){const e=function(t=window.localStorage,e=ce.lsKey){if(t){const n=t.getItem(e);if(n&&ce.hashedPPID&&ce.hashedPPID.length<2&&n.length>0)return n}return""}();if(e)ce.hashedPPID=e;else{const e=Lt(Wt(t));ce.siteUUID=localStorage.getItem(C)||e.siteUuid||"",ce.actorUuid=t&&t.user&&t.user.uuid||le,ce.uniqueId=e.uniqueId||"",ce.PPID=ce.actorUuid&&ce.actorUuid!==le?ce.actorUuid:ce.uniqueId,ce.hashedPPID=ce.PPID?se()(ce.PPID).toString():"",function(t=window.localStorage,e=ce.lsKey){t&&e&&ce&&ce.hashedPPID&&ce.hashedPPID.length>1&&t.setItem(e,ce.hashedPPID)}()}}(t),!ce.hashedPPID||ce.hashedPPID.length<2)?"":ce.hashedPPID}(t),he.siteUUID&&he.siteUUID.length>2&&(Array.isArray(ge)&&(he.loadLotame=ge.includes(he.siteUUID),he.loadLiveIntent=ge.includes(he.siteUUID)),!he.loadLotame&&Array.isArray(me)&&(he.loadLotame=me.includes(he.siteUUID)),!he.loadLiveIntent&&Array.isArray(pe)&&(he.loadLiveIntent=pe.includes(he.siteUUID)))}function Se(t,e=window){const n=e.localStorage.getItem(ve),o=e.localStorage.getItem(we),i=e.localStorage.getItem(be);if(o){const e=o.split("."),n=e[1],i=e[0],r=e[2];i&&(t.tp_id_lm=i,r&&(t.tp_id_lm_pid=r),n&&(t.tp_idt_lm=n))}if(i){const e=JSON.parse(i);e&&rt(e)&&(t.tp_li=e)}return n?t.tp_id_bc=n:re((t=>{t&&e.localStorage.setItem(ve,t)})),t}const xe="vf.consent_recieved";let Ae,Ce,ke,Le,$e,Ee=function(){if(function(){try{const t=window.sessionStorage.getItem("__vftc__")||"0";return!0===JSON.parse(t)}catch{return!1}}())return!0;const t=function(t="//cdn.viafoura.net/vftc/index.js"){const e=document.getElementsByTagName("script");return Array.from(e).filter((e=>e.src.includes(t))).pop()}();return t?!!function(t){return Qt.includes(t.type)}(t)&&(Jt("mayWeTrack::vftc.js was loaded, but it was blocked::not going to track"),!1):(Jt("mayWeTrack::no vftc script tag found::tracking continuing"),!0)}();te()&&(!1!==ee()||window.__tcfapi("addEventListener",2,(function(t,e){if(!e&&!t)return!1;try{Jt("TCF API data",t);const e=t.vendor||{consents:{},legitimateInterests:{}},n=e.consents||void 0,o=e.legitimateInterests||void 0,i={gdprApplies:t.gdprApplies,tcString:t.tcString,pubCC:t.publisherCC,overallPC:t.purpose&&t.purpose.consents};return n&&(i.vc=Yt.reduce(((t,e)=>({...t,[e]:n[e]})),{})),o&&(i.vli=Yt.reduce(((t,e)=>({...t,[e]:o[e]})),{})),Zt=ne(i),Jt("Consent: ",Zt,i),window.localStorage.setItem(Gt,JSON.stringify(i)),!0}catch(t){Jt("tcfApiCallback listener error",t)}return!1})));const Pe=t=>{if(Ee){const e=function(t){return t=Se(t),{view:Ce,meta:Ae,ua:ke,rq:$e,w:Le,...t}}(t);(t=>{(new Image).src=`${I}?t=${encodeURIComponent(JSON.stringify(t))}`})(e)}},De=(t,e)=>{const n=t?.settings?.tcf_api_cmp_integration,o=te();if(n&&!o&&console.warn("Viafoura: CMP Intgration via TCF API is enabled in Admin but TCF API is not available on this site"),o&&n){const t=function(){if("boolean"==typeof Zt)return Zt;const t=ee();return"boolean"!=typeof t&&t.vc?(Zt=ne(t),Zt):null}();nt("consented?",t),!0!==t&&(Ee=!1)}Ee&&(localStorage.setItem(xe,"1"),((t,e)=>{if(Ae=Wt(t),Ce=Lt(Ae),ke=function(t,e){const{navigator:n,screen:o,innerWidth:i,innerHeight:r}=t,{title:a,characterSet:s,documentElement:c}=e;return{nl:n&&n.language||null,nu:n&&n.userAgent||null,sr:o&&o.width?`${o.width}x${o.height}`:null,sd:o&&o.colorDepth?o.colorDepth:null,vp:i?`${i}x${r}`:null,dt:a||null,de:s||null,dl:c&&c.getAttribute?c.getAttribute("lang"):null}}(window,document),$e=et(),Le=e,Ce&&localStorage.setItem("_vf_skeleton_view_analytics",JSON.stringify(Ce)),$e&&Ae.url){const t={rq:$e,path:Ae.path,t:Date.now()};localStorage.setItem("_vf_rq_info_analytics",JSON.stringify(t))}})(t,e),window.vfConfig&&window.vfConfig?.analytics_loaded||(Pe({event_type:"analytics.view_lite"}),function(){let t=new Date,e=0,n=!1,o=!1;const i=function(){const n=new Date,o=n.getTime()-t.getTime();e+=o,(o===n.getTime()||e/1e3/60/60>4)&&(e=0)},r=function(){n&&o?e=0:(i(),e>0&&(Pe({event_type:"analytics.engage_lite",engage:{time:e}}),e=0),n&&(o=!0))};window.addEventListener("focus",(function(){t=new Date})),window.addEventListener("blur",i),window.addEventListener("beforeunload",r),window.addEventListener("vf-main-loaded",(function(){r(),n=!0}))}(),function(){let t=!1;const e=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");let n=null;window.addEventListener("vf-main-loaded",(()=>{n?.disconnect(),t=!0}));const o=function(e){let n=e;"a"!==e.tagName.toLowerCase()&&(n=e.closest("a")||e),n.addEventListener("click",(()=>{t||Pe({event_type:"analytics.interaction",action:"click",label:"vf-comments-count"})}))};e&&e.nodeType===e.ELEMENT_NODE?o(e):(n=new MutationObserver(((t,e)=>{const n=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");n&&(o(n),e.disconnect())})),n.observe(document.body,{childList:!0,subtree:!0}))}(),window.vfConfig=window.vfConfig||{},window.vfConfig.analytics_loaded=!0),function(t,e=window){Ie(t),window.vfConfig&&window.vfConfig?.tp_loaded||(window.vfConfig=window.vfConfig||{},window.vfConfig.tp_loaded=!0,function(t=window){const e=Number(t.localStorage.getItem(ye)),n=!(!e||Number.isNaN(e)||((new Date).getTime()-e)/864e5>1);if(!he.lotameLoaded&&!n&&he.loadLotame&&he.hashedPPID){const e={data:{},config:{clientId:Number(_e),onProfileReady:()=>{const e=t[`lotame_${_e}`].getPanorama(),n=t[`lotame_${_e}`].getProfileId(),o=e.getId()||n,i=o===t[`lotame_${_e}`].getProfileId()?"profileID":e.getIdType()||"";o&&(t.localStorage.setItem(we,`${o}.${i}.${n}`),t.localStorage.setItem(ye,`${(new Date).getTime()}`))}}},n=e.config||{};t[`lotame_${_e}`]={config:n,data:e.data||{},cmd:[]},de(`https://tags.crwdcntrl.net/lt/c/${_e}/lt.min.js`),he.lotameLoaded=!0}}(e),function(t=window){!he.liveIntentLoaded&&he.loadLiveIntent&&(de("https://d-code.liadm.com/did-002u.min.js").then((()=>{try{t.liQd_did_002u.resolve((e=>{e&&t.localStorage.setItem(be,JSON.stringify(e))}),(t=>{nt("failed to load LiveIntent data:",t)}),{resolve:["sha2","gender","age","nonId"]})}catch(t){nt("failed to load LiveIntent data:",t)}})),he.liveIntentLoaded=!0)}(e))}(t))};var Oe;!function(t){t[t.mousemove=0]="mousemove",t[t.touchstart=1]="touchstart",t[t.touchend=2]="touchend",t[t.scroll=3]="scroll",t[t.keydown=4]="keydown",t[t.click=5]="click"}(Oe||(Oe={}));const Te=["mousemove","touchstart","touchend","scroll","keydown","click"],Ne=t=>{const e=()=>{t(),(t=>{Te.forEach((e=>{document.removeEventListener(e,t)}))})(e)};(t=>{Te.forEach((e=>{document.addEventListener(e,t)}))})(e)},Ue=(t,e)=>{t.forEach((({target:t,isIntersecting:n})=>{const o=(t=>{let e=t.tagName;return e.match(/^vf-/i)||(e=t.getAttribute("data-widget")),e})(t);if(!o)return;const i=o.toLowerCase(),r=F[i],{loadFn:a}=r,s=t.hasAttribute("floating"),c=1===W.length&&"VF-CONVERSATIONS"===o||n;s?(Ne(a),e.unobserve(t)):c&&(window.scrollY<=0?Ne(a):setTimeout((()=>{a()}),1e3),e.unobserve(t))}))},je=t=>{const e=(new Date).getTime();return!(t&&!isNaN(Number(t)))||e-Number(new Date(t).getTime())>=24192e5};function He(){const t=window.localStorage.getItem("vf.analytics.section")||"";if(!t||!Array.isArray(ge)||0==ge.length||!ge.includes(t))return!1;const e=function(){try{const e=JSON.parse(window.localStorage.getItem("vf.analytics.us")||"{}");return e&&("object"!=typeof(t=e)||0!==Object.keys(t).length)?e:{}}catch(t){return{}}var t}(),n=[];rt(e)&&(e?.isActiveEngaged&&je(e?.lastAETS)&&n.push("ae"),e?.isRegistered&&je(e?.lastLoginTS)&&n.push("rg"),e?.isCommenter&&je(e?.lastCommentTS)&&n.push("cm"),e?.isUGCcontributor&&je(e?.lastContributionTS)&&n.push("ug"),n.length>0&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("vf_sg",n)}))))}window.vfQ=window.vfQ||[];let Be=1;!async function(){await async function t(){let e;j("\n/* Skeleton Renderer styles */\n\n#vf-skeleton-container {\n    display: block;\n    margin: 20px 0;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block {\n    background-color: #ebebeb;\n    border-radius: 4px;\n    display: block;\n    position: relative;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block::after {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    left: 0px;\n    bottom: 0px;\n    transform: translateX(-100%);\n    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0) );\n    animation: shimmer 1s infinite;\n    content: '';\n}\n\n@keyframes shimmer {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.vf-skeleton-conversations-container .vf-skeleton-generic-block:not(:first-child) {\n    margin-top: 8px;\n}\n\n.vf-skeleton-comments-container {\n    height: 112px;\n    margin-top: 28px;\n}\n\n.vf-skeleton-comments-img-wrapper {\n    width: 46px;\n    float: left;\n}\n\n.vf-skeleton-comments-img-wrapper .vf-skeleton-generic-block {\n    border-radius: 100%;\n}\n\n.vf-skeleton-comments-line-wrapper {\n    float: left;\n    width: 80%;\n    margin-left: 14px;\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n    width: 45%\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n    width: 55%\n}\n\n@media (min-width: 757px) {\n    .vf-skeleton-comments-line-wrapper {\n        width: 90%;\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n        width: 20%\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n        width: 80%\n    }\n}");const n=function(){const t=window.localStorage.getItem(w);let e=t?Number(t):NaN;return e===y.ALLOW_ALL?e:window.vfConsent&&!isNaN(window.vfConsent.flag)&&window.vfConsent.flag>=y.BLOCK_ALL&&window.vfConsent.flag<=y.ALLOW_ALL?(e=window.vfConsent.flag,!1!==window.vfConsent.storeFlag&&window.localStorage.setItem(w,`${e}`),e):!isNaN(e)&&e>=y.BLOCK_ALL&&e<=y.ALLOW_ALL?e:y.ALLOW_ALL}();if(n>y.BLOCK_ALL||n===y.NO_SIMPLE_CONSENT_SET)try{if(e=await L(),window.location.hash.match(/^#vf-/))z();else{const t=new IntersectionObserver(Ue,{rootMargin:"500px 0px"});await J(t)}n===y.ALLOW_ALL&&(He(),De(e,W))}catch(t){console.error(t)}else await(o=t,new Promise((t=>{setTimeout((()=>t(o())),2e3*Be),Be+=1})));var o}()}()})()})();
//# sourceMappingURL=index.js.map