!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5ac174f0-523b-47ba-92e0-5e7a31078037",e._sentryDebugIdIdentifier="sentry-dbid-5ac174f0-523b-47ba-92e0-5e7a31078037")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"ocelot@c8dcc381825763128c6fe3c0cad7c2ec7b944c13"},(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[8452],{98452:(e,t,r)=>{r.d(t,{Z:()=>H});r(58109),r(95566),r(68438),r(83464),r(19496);var n=r(4942),o=r(93433),a=r(15861),i=r(29439),l=r(64687),u=r.n(l),c=r(35098),s=r(83110),d=r(88101),p=r(92972),f=r.n(p),v=r(34063);const g="showMoreContainer-vgpVk",b="showMore-Ws6ES",y="loading-_opJv";var m=r(56552),h=function(e){var t=e.handleShowMore,r=e.isLoading,n=void 0!==r&&r;return(0,m.jsx)("div",{className:g,children:(0,m.jsx)("button",{className:"".concat(b," ").concat(n?y:""),onClick:t,children:n?"Loading...":"Show More"})})};const O=h;h.propTypes={handleShowMore:f().func,isLoading:f().bool};var w=r(49291),j=r(45532),S=r(68699),D=r(51591),x=r(50465),P=r(47452),_=r(4964),M=r(82489),E=r(41718),A=r(73457),I=30,L=5;function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e,t){if((null===e||void 0===e||!e.types)&&(null===e||void 0===e||!e.categorySlugs)&&(null===e||void 0===e||!e.lineupSlug))return Promise.reject(new x.p(P.$h,"Bad query supplied"));var r=(0,j.cE)(),n={lineupOnly:e.lineupOnly,page:t,pageSize:e.numMaxItems,maxPubDate:e.maxPubDate,minPubDate:e.minPubDate,itemsQueryFilters:{types:e.types,categorySlugs:e.categorySlugs,lineupSlug:e.lineupSlug,sort:e.sort,mediaStreamType:e.mediaStreamType}};return(0,M.he)(_.o,{query:r,variables:k({},n)})},C=function(){var e=(0,a.Z)(u().mark((function e(t){var r,n,o,a,i,l,c,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:1,n=s.length>2&&void 0!==s[2]?s[2]:A.xO,o=s.length>3&&void 0!==s[3]?s[3]:"/",e.prev=3,t){e.next=6;break}throw new Error("fetchMoreContentItems query params invalid");case 6:return e.next=8,T(t,r);case 8:return i=e.sent,l=null===i||void 0===i||null===(a=i.allContentItems)||void 0===a?void 0:a.nodes,c=null!==l&&void 0!==l&&l.length?(0,S.H9)(l,null===t||void 0===t?void 0:t.lineupSlug):[],e.abrupt("return",c.length?(0,D.h)(c,n,o):[]);case 14:e.prev=14,e.t0=e.catch(3),E.default.error("error fetching more content items: ".concat(e.t0),e.t0);case 17:return e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t;if(null===e||void 0===e||!e.params)return[];var r=e.params.pageWidget;return null!==r&&void 0!==r&&null!==(t=r.payload)&&void 0!==t&&null!==(t=t.items)&&void 0!==t&&t.length?r.payload.items:[]},W=function(e){if(null===e||void 0===e||!e.params)return 1;var t=e.params.pageWidget;if(null===t||void 0===t||!t.metadata||null===t||void 0===t||!t.payload)return 1;var r=t.metadata.query,n=t.payload.items;if(null===r||void 0===r||!r.startAt||null===r||void 0===r||!r.numMaxItems||null===n||void 0===n||!n.length)return 1;var o=r.startAt-1,a=n.length+o;return o>0?Math.ceil(a/r.numMaxItems):1};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){var t,r,n=(0,c.useState)((function(){return N(e)})),l=(0,i.Z)(n,2),p=l[0],f=l[1],g=(0,c.useState)((function(){return W(e)})),b=(0,i.Z)(g,2),y=b[0],h=b[1],j=(0,c.useState)(!1),S=(0,i.Z)(j,2),D=S[0],x=S[1],P=(0,s.useRouteMatch)(),_=(0,d.Dr)(P.url);if(e.params){var M=e.params.pageWidget;if(null!==p&&void 0!==p&&p.length&&null!==M&&void 0!==M&&M.metadata){var A=M.metadata,Z=A.layout,k=A.heading,T=A.featureAttribution,q=A.query,H={text:k.title,description:k.description,link:k.url},R=null!==(t=null!==(r=null===q||void 0===q?void 0:q.numMaxItems)&&void 0!==r?r:null===Z||void 0===Z?void 0:Z.columns)&&void 0!==t?t:L,F=(null===q||void 0===q?void 0:q.startAt)>1?q.startAt-1:0,K=R*y,Q=function(){var e=(0,a.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),t=[],r=y+1,e.prev=3,e.next=6,C(q,r,Z,_);case 6:t=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),E.default.error("error fetching more content items: ".concat(e.t0),e.t0);case 12:f((function(e){return[].concat((0,o.Z)(e),(0,o.Z)(t))})),h(r),x(!1);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"contentQueryWidget",children:[k.visible&&(0,m.jsx)(w.OT,B({},H)),(0,m.jsx)(v.Z,{layout:Z,items:p,featureAttributionData:T,indexToFocus:function(){var e;if(null===Z||void 0===Z||null===(e=Z.loadMore)||void 0===e||!e.enabled||p.length<=R)return null;if(F>0){var t=Math.ceil(F/Z.columns)*Z.columns;return R*(y-1)-t}return R*(y-1)}()}),function(){var e;if(null===Z||void 0===Z||null===(e=Z.loadMore)||void 0===e||!e.enabled||y===I)return!1;if(F>0){var t=Math.ceil(F/q.numMaxItems)*q.numMaxItems;return K<=p.length+t}return K<=p.length}()&&(0,m.jsx)(O,{handleShowMore:Q,isLoading:D})]})}}}H.propTypes={params:f().shape({pageWidget:f().shape({payload:f().object,metadata:f().shape({layout:f().object,heading:f().object})})})}}}]);
//# sourceMappingURL=../../sourcemaps/oc-8452.59e3a7adc5fb91d60652.js.map